<html>
<head>
    <link rel="stylesheet" href="Gift website.css">
</head>    
<body>
    <div><a id="a1" class="button"><span>3D!?</span></a></div>
    <div><a id="a2" class="button" ><span>排序！！</span></a></div>
    <div><a id="a3" class="button"><span>啊啊啊啊，又是Bug！</span></a></div>
    <div><a id="a4" class="button"><span>敌人？敌人！</span></a></div>
    <div><a id="a5" class="button"><span>搜索大师！</span></a></div>
    <div><a id="a6" class="button"><span>耶！</span></a></div>
    <button class="resetButton">覆盖数据 cover and reset</button>
    <h3>(这可能重新开始界面，你需要再次闯关解锁每个版块)</h3>
<script>  
        window.onload = function(){
            var bcpt1=0;
            var bcpt2=0;
            var bcpt3=0;
			if(sessionStorage.getItem('bk') === '1'){
                bcpt1=1;
            }
            if(sessionStorage.getItem('ck') === '1'){
                bcpt2=1;
            }
            if(sessionStorage.getItem('dk') === '1'){
                bcpt3=1;
            }
            function resetText(){
            if(bcpt1 === 0) {
                document.getElementById('a1').innerHTML='未解锁 Locked\n(点击以闯关)';
                document.getElementById('a2').innerHTML='未解锁 Locked';
            }
            if(bcpt2 === 0) {
                if(bcpt1 === 0) {
                document.getElementById('a3').innerHTML='未解锁 Locked';
                document.getElementById('a4').innerHTML='未解锁 Locked';
                } else {
                document.getElementById('a3').innerHTML='未解锁 Locked\n(点击以闯关)';
                document.getElementById('a4').innerHTML='未解锁 Locked';
                }
            }
            if(bcpt3 === 0) {
                if(bcpt1 === 1 && bcpt2 === 1) {
                document.getElementById('a5').innerHTML='未解锁 Locked\n(点击以闯关)';
                document.getElementById('a6').innerHTML='未解锁 Locked';
                } else {
                document.getElementById('a5').innerHTML='未解锁 Locked';
                document.getElementById('a6').innerHTML='未解锁 Locked';
                }
            }
            }
            resetText();
            const resetButton = document.querySelector('.resetButton');
            resetButton.addEventListener('click', reset);
            function reset(){
                alert("已覆盖原数据")
                sessionStorage.setItem('bk','0')
                sessionStorage.setItem('ck','0')
                sessionStorage.setItem('dk','0')
                bcpt1=0;
                bcpt2=0;
                bcpt3=0;
                resetText();
            }
            document.getElementById("a1").onclick = function() {
            if(bcpt1===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','初识与3D');
                sessionStorage.setItem('text1',"最初见到的时候，我们还有些紧张，但您向我们展示了许多Scratch做的游戏，是我们挺震撼的，于是我们开始研究3d。");
                sessionStorage.setItem('text2',"映射3D，主要通过在平面大地图上的模拟，测量角色到墙壁的距离并记录在列表里，再通过一定比例投射到屏幕（近大远小），即用画笔一条条画下。从而形成将2D转化为3D的效果。");
                sessionStorage.setItem('text3',"当我们第一次不使用特别复杂的方式做3d时，心中很惊喜。");
                sessionStorage.setItem('text4',"");
                sessionStorage.setItem('picture','p1');
            } else {
                location.href="/Gift Game.html";
                sessionStorage.setItem('id','猜数字1');
            }
            };
            document.getElementById("a2").onclick = function() {
            if(bcpt1===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','排序———归并排序，快速排序，插入排序。');
                sessionStorage.setItem('text1',"归并排序是一种稳定的排序方法，您用了扑克牌来帮助我们理解，操作是把数组拆分成左右两个小块，把左右数组比较，按序插入到新数组里，不停完成每两个小块的拼合，最后完成大数组的排序。");
                sessionStorage.setItem('text2',"快速排序是对冒泡排序的一种改进，您讲快速排序用了扑克牌的方法，流程是取出队头的元素（key），然后把数组分为两部分，比key小的元素，比key大的元素，每部分再单独按此方式排序。");
                sessionStorage.setItem('text3',"插入排序是一种简单排序，我们把它用在了排列墙壁与角色的距离的列表上，您用了扑克牌的方法讲，思想就是把数组的每一项拿出，一项一项按大小插入到新数组里。");
                sessionStorage.setItem('text4',"");
                sessionStorage.setItem('picture','p2');
            } else {
                location.href="";
            }
            };
            document.getElementById("a3").onclick = function() {
            if(bcpt2===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','千奇百怪的Bug');
                sessionStorage.setItem('text1',"1，竞态条件，当两段程序同时运行时，要注意，同时读，设数据会导致冲突。如，大地图脚本中，x变量和y变量，一边在重复更新，一边在重复使用，产生冲突，导致角色碰到墙壁时会卡住。解决方法：省去变量转换，将所有的代码连起来。");
                sessionStorage.setItem('text2',"2，比较错误：当用角色方向进行加减再比较时，很容易出现比较错误的情况，因为scratch的方向进制与平时不同。解决方法：让角色提前面向加完以后的方向，等于提前换算。");
                sessionStorage.setItem('text3',"3，广播：广播克隆体和主要角色是都可以接收到的，所以在使用广播的时候应该小心，有分辨的使用，不然就很容易出现重复广播，重复运行代码的情况。");
                sessionStorage.setItem('text4',"同时您也教了我们一些查该bug的方法，可以在代码运行过程中有输出来检查代码的运行问题。也帮助我们修改了很多bug。");
                sessionStorage.setItem('picture','p3');
            } else {
                if(bcpt1 === 1) {
                location.href="/Gift Game.html";
                sessionStorage.setItem('id','猜数字2');
                } else {
                    alert("请先解锁前面的关卡")
                }
            }
            };
            document.getElementById("a4").onclick = function() {
            if(bcpt2===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','敌人显示，寻路，与攻击');
                sessionStorage.setItem('text1',"我们的想法：三个分别存距离，type，ID的列表，用来按序打印墙壁与敌人。");
                sessionStorage.setItem('text2',"具体的实现：距离升序按排列，在遍历距离列表时按id打印位置，type打印类别，id指在第几度扫到了敌人。");
                sessionStorage.setItem('text3',"敌人的寻路用广搜来做，当敌人距离”我“近与某个值时，敌人开始寻路，当寻路完毕并可扫描到”我“是，敌人开枪，减血。");
                sessionStorage.setItem('text4',"");
                sessionStorage.setItem('picture','p4');
            } else {
                location.href="";
            }
            };
            document.getElementById("a5").onclick = function() {
            if(bcpt3===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','深搜与广搜 DFS&BFS');
                sessionStorage.setItem('text1',"DFS（深度优先搜索）在课上我们初步了解了深搜的逻辑，知道了它是一种图算法，我们曾幽默的说它是“一条路走到黑的类型”，简要来说是对每一个可能的分支路径深入到不能再深入为止，而且每个节点只能访问一次。");
                sessionStorage.setItem('text2',"BFS（宽度优先搜索）在课上您用了画图的方法让我们了解了宽搜，我们曾说宽搜像只章鱼，这个比喻很生动形象。");
                sessionStorage.setItem('text3',"在实现上，我们在做人机寻路时就用了BFS的方法，并且初见成效，宽搜在搜索最快路径上有着很好的使用。");
                sessionStorage.setItem('text4',"");
                sessionStorage.setItem('picture','p5');
            } else {
                if(bcpt1 === 1 && bcpt2 === 1) {
                location.href="/Gift Game.html";
                sessionStorage.setItem('id','猜拳');
                } else {
                    alert("请先解锁前面的关卡")
                }
            }
            };        
            document.getElementById("a6").onclick = function() {
            if(bcpt3===1) {
                location.href="/Gift index look.html";
                sessionStorage.setItem('title','致谢');
                sessionStorage.setItem('text1',"谢谢您无私的教导，细心的指点，您的一个一个项目打开了我们的思路，告诉了我们很多编程时的技巧，也为我们找到了一些资源，例如：学习网站编辑的mozilla，一些帮助理解算法的思想和实现的书籍，一些好的片子。这都令我们收获颇丰。");
                sessionStorage.setItem('text2',"与您上课时总感觉时间过得很快，整节课就像聊天一样，使我们感到很放松与享受，课程也很有意思，老师您总能找到易理解又生动的方法为我们解释各种问题，拆解项目中的一个一个难点。");
                sessionStorage.setItem('text3',"一个学期竟那么快就过去了，这学期课带给我们的收获真的很大，也使我们乐在其中!万分感激！");
                sessionStorage.setItem('text4',"即将迈入初中，我们“江湖”再见！后会有期！----您的学生吴俊佑，陈烁宇");
                sessionStorage.setItem('picture','p6 Thank');
            } else {
                location.href="";
            }
            };
        }
    </script>
</body>
</html>
